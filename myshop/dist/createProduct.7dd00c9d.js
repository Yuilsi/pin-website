var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},t={},n=e.parcelRequirede3a;null==n&&((n=function(e){if(e in o)return o[e].exports;if(e in t){var n=t[e];delete t[e];var a={id:e,exports:{}};return o[e]=a,n.call(a.exports,a,a.exports),a.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,o){t[e]=o},e.parcelRequirede3a=n);var a=n("li1Mx"),r=n("etBjH"),i=n("aYguL");async function l(e,o=[]){return o.map((async o=>{const t=await async function(e,o){const t=i.ref(e,`products/images/${o.name}`);return await i.uploadBytes(t,o)}(e,o);return i.getDownloadURL(i.ref(e,t.ref.fullPath))}))}const c=document.getElementById("createProductForm");c.addEventListener("submit",(async e=>{e.preventDefault(),console.log("create a new product");const o=c.name.value,t=c.description.value,n=c.price.value,i=c.category.value,s=c.images.files;let d=[];if(s.length){const e=await l(a.storage,[...s]);console.log(e),d=await Promise.all(e)}const u={name:o,description:t,price:n,category:i,images:d};await async function(e,o){try{await r.addDoc(r.collection(e,"products"),o),console.log("producto agregado!")}catch(e){console.log(e)}}(a.db,u)}));
//# sourceMappingURL=createProduct.7dd00c9d.js.map
