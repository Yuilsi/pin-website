var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},r=e.parcelRequirede3a;null==r&&((r=function(e){if(e in t)return t[e].exports;if(e in n){var r=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,r.call(a.exports,a,a.exports),a.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequirede3a=r);var a=r("li1Mx"),c=r("1tHc5"),o=(a=r("li1Mx"),r("etBjH"));var i=r("hMt9z"),d=r("2EF88");const s=document.getElementById("productInfo"),u=document.getElementById("productAssets");let l,p=[];async function g(){const e=function(e){const t=window.location.search;return new URLSearchParams(t).get(e)}("id");!function(e){u.innerHTML=`\n    <img class="product__mainImage" id="mainImage" src="${e.images[0]}">`;p.some((t=>t.id===e.id));s.innerHTML=`\n    <h1 class="product__name">${e.name}</h1>\n    <h2 class="product__category">${e.category}</h2>\n    <p class="product__description">${e.description}</p>\n    <h3 class="product__price">${d.currencyFormat(e.price)}</h3> \n    <button class="product__cart">Añadir al carrito</button>`,e.images.length>1&&function(e){const t=document.getElementById("mainImage"),n=document.createElement("div");n.className="product__gallery",e.forEach((e=>{n.innerHTML+=`<img src="${e}">`})),u.appendChild(n);document.querySelector(".product__gallery").addEventListener("click",(e=>{"IMG"===e.target.tagName&&t.setAttribute("src",e.target.currentSrc)}))}(e.images);const t=document.querySelector(".product__cart");t.addEventListener("click",(async n=>{n.preventDefault();const r=p.find((e=>e.id==e.id)),c={...e,counter:r?r.counter+1:1};if(r){const e=p.findIndex((e=>e.id==e.id));p[e]=c}else p.push(c);d.addProductToCart(p),l&&(t.innerHTML="producto Añadido",t.disabled=!0,setTimeout((()=>{t.innerHTML="Agregar al carrito",t.disabled=!1}),100),i.createFirebaseCart(a.db,l.uid,p))}))}({...await async function(e){const t=o.doc(a.db,"products",e);try{return(await o.getDoc(t)).data()}catch(e){console.log(e)}}(e),id:e})}c.onAuthStateChanged(a.auth,(async e=>{e?(l=e,p=await i.getFirebaseCart(a.db,l.uid),console.log(p)):p=d.getMyLocalCart(),g()}));
//# sourceMappingURL=product.6a98f040.js.map
