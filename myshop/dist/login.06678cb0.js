var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequirede3a;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var o={id:e,exports:{}};return t[e]=o,a.call(o.exports,o,o.exports),o.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequirede3a=a);var o=a("li1Mx"),r=a("etBjH"),s=a("1tHc5");window.addEventListener("load",(()=>{const e=document.getElementById("createUserForm");let t;e.addEventListener("submit",(async t=>{t.preventDefault();const n={name:e.name.value,email:e.email.value,password:e.password.value,isAdmin:!1},a=await async function(e,{email:t,password:n}){try{console.log(t,n);const{user:a}=await s.createUserWithEmailAndPassword(e,t,n);return a}catch(e){"auth/invalid-password"===e.code&&alert("tu contraseña debe tener min 6 caracteres"),"auth/email-already-in-use"===e.code&&alert("el correo ya esta en uso")}}(o.auth,n);await async function(e,t,n){try{await r.setDoc(r.doc(e,"users",t),n)}catch(e){console.log(e)}}(o.db,a.uid,n),location.href="index.html",console.log(a)}));const n=document.getElementById("loginForm");n.addEventListener("submit",(async e=>{try{e.preventDefault();const a=n.querySelectorAll("input"),i={};a.forEach((e=>i[e.name]=e.value)),t=await async function(e,t,n){try{const{user:a}=await s.signInWithEmailAndPassword(e,t,n);return console.log(a),a}catch(e){"auth/wrong-password"===e.code&&alert("contraseña incorrecta"),"auth/user-not-found"===e.code&&alert("correo no existe")}}(o.auth,i.username,i.password);const c=await async function(e,t){const n=r.doc(e,"users",t.uid),a=await r.getDoc(n);if(a.exists())return console.log("Document data:",a.data()),a;console.log("No such document!")}(o.db,t);console.log(c.data().isAdmin),c.data().isAdmin?location.href="createProduct.html":location.href="index.html"}catch(e){console.error(e)}}))}));const i=document.getElementById("signUp"),c=document.getElementById("signIn"),d=document.getElementById("container");i.addEventListener("click",(()=>{d.classList.add("right-panel-active")})),c.addEventListener("click",(()=>{d.classList.remove("right-panel-active")})),window.addEventListener("DOMContentLoaded",(e=>{"register"===localStorage.getItem("loginAction")&&d.classList.add("right-panel-active")}));
//# sourceMappingURL=login.06678cb0.js.map
